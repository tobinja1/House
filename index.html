<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.cycling74.com/rnbo/latest/rnbo.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="An interactive web audio tool for use with Sky Hill's card game, The Magic House.">
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="icon" type="image/x-icon" href="/assets/icons/magicHouseIcon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arvo:ital,wght@0,400;0,700;1,400;1,700&family=Jost:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Abel&family=Arvo:ital,wght@0,400;0,700;1,400;1,700&family=Jost:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <title>The Magic House</title>
</head>
<body>
    <div class="start-cover">
        <div class="start-cover-inner">
            <img class="logo-big" src="/assets/imgs/the magic house - logo (square).png" alt="Logo for The Magic House">
            <button id="start-button" style="margin-top: 2rem;">enter The Magic House</button>
        </div>
    </div>
    <div id="popout">
        <div class="menu-and-icon-container">
            <div id="burger-menu-close">
                <div class="burgerline round-border" style="position: absolute; margin-top: 0.5em; width: 30px; transform: rotate(45deg);"></div>
                <div class="burgerline round-border" style="position: absolute; margin-top: 0.5rem; width: 30px; transform: rotate(-45deg);"></div>
            </div>
        </div>
        <div class="popout-content-container" style="padding-bottom: 1rem;">
            <div class="h1-container" style="display: flex; flex-direction: row; align-content: flex-start; align-items: baseline;">
                <h1>The Magic House</h1>
                <p class="subtext" style="margin-left: 0.25rem;">ver. 1.0</p>
            </div>
            <p class="subtext">by sky hill</p>
            <p class="subtext">built by <a href="https://dayflowerstudio.com/">dayflower studio</a></p>
            <div class="house-popout-top">
                <img class="logo-big" src="/assets/imgs/the magic house - logo (square).png" alt="Logo for The Magic House">
                <h2 style="width: 100%; text-align: center; margin-bottom: 0px;">welcome to the The Magic House.</h2>
                <p style="width: 100%; text-align: center; margin-top: 0.25rem;">here's how you play:</p>
                <p id="mobile-warning" style="width: 100%; text-align: center; font-weight: bold;">(NOTE: the magic house is made for mobile, so try it there instead!)</p>
            </div>
            <div>
                <h2 class="popout-section-hed" style="width: 100%; text-align: center;">quick nav:</h2>
                <div class="quick-nav">
                    <a href="#recording-section">recording</a>
                    <a href="#playing-section">playing</a>
                    <a href="#parameters-section">parameters</a>
                    <a href="#effects-section">effects</a>
                    <a href="#recs-and-samples-section">recs vs. samples</a>
                </div>
            </div>
            <div class="house-popout-main">
                <div>
                    <h2 class="popout-section-hed" id="recording-section">recording:</h2>
                    <p class="popout-body">while playing The Magic House, you’ll be recording, playing back, and applying effects to audio. you have <u>8</u> channels of audio you can record into by pressing the <u>rec</u> buttons:</p>
                    <button class="record-button round-border button-width disable-dbl-tap-zoom centered" id="recordnull">rec 1</button>
                    <p class="popout-body">press it, and you’ll notice it turns red. <u>this means you’re recording any and all audio from your input device to the channel specified by the record button</u>. press it again to stop recording.</p>
                </div>
                <div>
                    <h2 class="popout-section-hed" id="playing-section">playing:</h2>
                    <p class="popout-body">below each rec button is a <u>play</u> button. after you’ve recorded audio, press the <u>play</u> button of the same channel to play it back.</p>
                    <button class="play-button round-border button-width disable-dbl-tap-zoom centered" id="playnull">play 1</button>
                    <p class="popout-body">the <u>play</u> button plays audio back a single time per-press, like a soundboard. if you want it to loop, hit the <u>loop</u> button (more on that below).</p>
                </div>
                <div>
                    <h2 class="popout-section-hed" id="parameters-section">toggling parameters:</h2>
                    <p class="popout-body">there are <u>4 toggleable parameters</u> in house, each with a different purpose:</p>
                    <button class="param-button round-border button-width disable-dbl-tap-zoom centered" id="togglenull">loop</button>
                    <p class="popout-body">the <u>loop</u> parameter controls toggles looping on or off. when toggled on, tapping a <u>play</u> button will loop its respective sample until the <u>play</u> button is tapped again.</p>
                    <button class="param-button round-border button-width disable-dbl-tap-zoom centered" id="pitchnull">pitch</button>
                    <p class="popout-body">the <u>pitch</u> parameter controls the playback pitch and speed of each individual recorded sample. when toggled on, <u>pitch</u> gives each sample a randomized pitch value, which varies per-sample. when toggled off, all individual sample pitches and playback speeds return to normal.</p>
                    <button class="param-button round-border button-width disable-dbl-tap-zoom centered" id="cropnull">crop</button>
                    <p class="popout-body">the <u>crop</u> parameter controls cropping and playback range of each individual sample. when toggled on, each individual sample has its playback range cropped, so that only a small part of a sample is played back, rather than the whole thing. as with pitch, when toggled off, crop values return to normal, and can be refreshed by re-toggling.</p>
                    <button class="param-button round-border button-width disable-dbl-tap-zoom centered" id="feedbacknull">feedback</button>
                    <p class="popout-body">the <u>feedback</u> parameter passes the raw audio input of your input device through all effects and out the other end. be warned: <u>feedback</u> risks real-world feedback!</p>
                </div>
                <div>
                    <h2 class="popout-section-hed" id="effects-section">effects:</h2>
                    <p class="popout-body">to apply <u>effects</u>, drag your thumb (or mouse) across the multicolored pad above the parameter buttons. house uses 4 <u>effects</u>, some of which bleed into each other and have unique auditory interactions. the drag-based logic looks like this:</p>
                    <img src="./assets/imgs/houseeffectsgraphic.png" alt="An image explaining how the dragging-based effects in house work." class="tut-image centered">
                    <p class="popout-body">depending on where you leave your gray dot, your audio could have a smattering of different <u>effects</u> applied to it. the closer to the corners, the more pronounced the specific <u>effects</u> will be; conversely, if you leave the gray dot in the center, no effects will be applied, and you can hear your dry, unaffected audio.</p>
                </div>
                <div>
                    <h2 class="popout-section-hed" id="recs-and-samples-section">recs vs. samples mode</h2>
                    <p class="popout-body">the Magic House has two modes: <u>recs</u> mode and <u>samples</u> mode, which allow you to play back either your custom-recorded samples, or an array of 8 provided samples, respectively. you can toggle between them using these buttons towards the bottom of the interface:</p>
                    <div style="display: flex; flex-direction: row; justify-content: center; padding: auto;">
                        <button class="param-button round-border button-width disable-dbl-tap-zoom" style="background-color: gray; color: white; margin-right: 4rem;" id="recs-button-dud">recs</button>
                        <button class="param-button round-border button-width disable-dbl-tap-zoom" id="samples-button-dud">samples</button>
                    </div>
                    <p class="popout-body">in <u>recs</u> mode, you can record into individual <u>play</u> buffers. in <u>samples</u> mode, you can't record into the sample buffers, and you'll notice the <u>record</u> buttons are grayed out. toggle buttons apply their respective effects to <i>both</i> <u>recs</u> and <u>samples</u> mode. likewise, if you enable looping, switch to the <u>samples</u> page, and then switch back, the pressed sample will continue to loop.</p>
                    <p class="popout-body">something worth noting: <u>samples</u> are passed through the effects section like user-recorded samples are.</p>
                </div>
            </div>
        </div>
    </div>
    <div class="inner-container">
        <div id="drag-container" class="thumb-toggle-container round-border big-margin" style="overflow: hidden; touch-action: none;">
            <div id="thumb-drag" class="thumb-drag"></div>
        </div>
        <div class="buttons-container">
            <div class="param-button-row big-margin">
                <button class="param-button round-border button-width disable-dbl-tap-zoom" id="toggle">loop</button>
                <button class="param-button round-border button-width disable-dbl-tap-zoom" id="pitch">pitch</button>
                <button class="param-button round-border button-width disable-dbl-tap-zoom" id="crop">crop</button>
                <button class="param-button round-border button-width disable-dbl-tap-zoom" id="feedback">feedback</button>
            </div>
            <div class="record-button-row small-margin">
                <button class="record-button round-border button-width disable-dbl-tap-zoom" id="record1">rec 1</button>
                <button class="record-button round-border button-width disable-dbl-tap-zoom" id="record2">rec 2</button>
                <button class="record-button round-border button-width disable-dbl-tap-zoom" id="record3">rec 3</button>
                <button class="record-button round-border button-width disable-dbl-tap-zoom" id="record4">rec 4</button>
            </div>
            <div class="dead small-margin">
                <button class="null record-button round-border button-width disable-dbl-tap-zoom" id="null1">rec 1</button>
                <button class="null record-button round-border button-width disable-dbl-tap-zoom" id="null2">rec 2</button>
                <button class="null record-button round-border button-width disable-dbl-tap-zoom" id="null3">rec 3</button>
                <button class="null record-button round-border button-width disable-dbl-tap-zoom" id="null4">rec 4</button>
            </div>
            <div class="play-button-row big-margin">
                <button class="play-button round-border button-width disable-dbl-tap-zoom" id="play1">play 1</button>
                <button class="play-button round-border button-width disable-dbl-tap-zoom" id="play2">play 2</button>
                <button class="play-button round-border button-width disable-dbl-tap-zoom" id="play3">play 3</button>
                <button class="play-button round-border button-width disable-dbl-tap-zoom" id="play4">play 4</button>
            </div>
            <div class="secondary-samples-row big-margin">
                <button class="play-button sample-button round-border button-width disable-dbl-tap-zoom" id="sample1">sample 1</button>
                <button class="play-button sample-button round-border button-width disable-dbl-tap-zoom" id="sample2">sample 2</button>
                <button class="play-button sample-button round-border button-width disable-dbl-tap-zoom" id="sample3">sample 3</button>
                <button class="play-button sample-button round-border button-width disable-dbl-tap-zoom" id="sample4">sample 4</button>
            </div>
            <div class="record-button-row small-margin">
                <button class="record-button round-border button-width disable-dbl-tap-zoom" id="record5">rec 5</button>
                <button class="record-button round-border button-width disable-dbl-tap-zoom" id="record6">rec 6</button>
                <button class="record-button round-border button-width disable-dbl-tap-zoom" id="record7">rec 7</button>
                <button class="record-button round-border button-width disable-dbl-tap-zoom" id="record8">rec 8</button>
            </div>
            <div class="dead small-margin">
                <button class="null record-button round-border button-width disable-dbl-tap-zoom" id="null5">rec 1</button>
                <button class="null record-button round-border button-width disable-dbl-tap-zoom" id="null6">rec 2</button>
                <button class="null record-button round-border button-width disable-dbl-tap-zoom" id="null7">rec 3</button>
                <button class="null record-button round-border button-width disable-dbl-tap-zoom" id="null8">rec 4</button>
            </div>
            <div class="play-button-row big-margin">
                <button class="play-button round-border button-width disable-dbl-tap-zoom" id="play5">play 5</button>
                <button class="play-button round-border button-width disable-dbl-tap-zoom" id="play6">play 6</button>
                <button class="play-button round-border button-width disable-dbl-tap-zoom" id="play7">play 7</button>
                <button class="play-button round-border button-width disable-dbl-tap-zoom" id="play8">play 8</button>
            </div>
            <div class="secondary-samples-row big-margin">
                <button class="play-button sample-button round-border button-width disable-dbl-tap-zoom" id="sample5">sample 5</button>
                <button class="play-button sample-button round-border button-width disable-dbl-tap-zoom" id="sample6">sample 6</button>
                <button class="play-button sample-button round-border button-width disable-dbl-tap-zoom" id="sample7">sample 7</button>
                <button class="play-button sample-button round-border button-width disable-dbl-tap-zoom" id="sample8">sample 8</button>
            </div>
            <div class="menu-and-icon-container">
                <button class="param-button round-border button-width disable-dbl-tap-zoom" style="background-color: gray; color: white;" id="recs-button">recs</button>
                <button class="param-button round-border disable-dbl-tap-zoom menu-button" id="burger-menu-open">menu</button>
                <button class="param-button round-border button-width disable-dbl-tap-zoom" id="samples-button">samples</button>
            </div>
        </div>
    </div>
</body>
<script src="./assets/js/app.js"></script>
</html>